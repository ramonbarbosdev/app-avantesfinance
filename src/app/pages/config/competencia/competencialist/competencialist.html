<div class="p-10 flex flex-col gap-5">
  <hlm-tabs tab="listagem" class="w-full">
    <hlm-tabs-list class="grid w-full grid-cols-2" aria-label="tabs example">
      <button hlmTabsTrigger="listagem">Competência</button>
      <button hlmTabsTrigger="novo">Novo</button>
    </hlm-tabs-list>
    <div hlmTabsContent="listagem">
      <section class="p-2" hlmCard>
        <table hlmTable>
          <caption hlmCaption>
            Listagem de competência
          </caption>
          <thead hlmTHead>
            <tr hlmTr>
              <th hlmTh class="w-[5%]"></th>
              <th class="w-[100px]" hlmTh>Mês</th>
              <th class="w-[100px]" hlmTh>Ano</th>
              <th class="w-[100px]" hlmTh>Situação</th>
              <th class="w-[10px]" hlmTh></th>
            </tr>
          </thead>
          <tbody hlmTBody>
            <tr hlmTr *ngFor="let item of listagem">
              <td
                hlmTd
                class="flex flex-row h-full w-full gap-2 justify-center items-center"
              >
                <div
                  (click)="editar(item)"
                  class="flex cursor-pointer hover:scale-[1.2] transform transition-all duration-300"
                >
                  <ng-icon hlm size="sm" name="lucideSquarePen" />
                </div>
                <div
                  (click)="excluir(item.id_competencia)"
                  class="flex cursor-pointer hover:scale-[1.2] transform transition-all duration-300"
                >
                  <ng-icon hlm size="sm" name="lucideTrash2" />
                </div>
              </td>

              <td hlmTd>{{ item.cd_competencia }}</td>
              <td hlmTd>{{ item.dt_ano }}</td>
              <td hlmTd>{{ item.tp_status }}</td>
              <td hlmTd class="flex flex-row h-full w-full gap-2 items-center">
                <button
                  title="Abrir"
                  *ngIf=" item.tp_status == 'FECHADO'"
                  class="p-1 rounded hover:bg-muted transition"
                  (click)="mudarStatus(item)"
                >
                  <ng-icon hlm size="sm" name="lucideLockOpen" />
                </button>
                <button
                  title="Fechar"
                  *ngIf=" item.tp_status == 'ABERTO'"
                  class="p-1 rounded hover:bg-muted transition"
                  (click)="mudarStatus(item)"
                >
                  <ng-icon hlm size="sm" name="lucideLock" />
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>

    <div hlmTabsContent="novo">
      <div class="p-5">
        <app-competenciaform>
          
        </app-competenciaform>
      </div>
    </div>
  </hlm-tabs>
</div>
